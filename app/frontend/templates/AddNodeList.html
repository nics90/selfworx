{%  extends "base.html" %}
{% block side %}

<!-- Jquery JS-->
<script src="{{ url_for('frontend.static', filename='vendor/jquery-3.2.1.min.js')}}"></script>

<script type="text/javascript">
  $(document).ready(function(){
   $('button').click(function() {
          $.ajax({
              url: '/api/addTargetNodeList',
              data: $('form').serialize(),
              type: 'POST',
  			      success: function(response) {
                //console.log(response);
  				     response = JSON.parse(response)
  				    //if (response.redirect !== undefined && response.redirect) {
  				    if ( response.redirect == "true" ) {
  				          alert('Node List created Successfully');
  				          window.location.href = response.redirect_url;
  					   }
  				    else {
  				          console.log(response);
  				          alert('Node List already exist. Please try some other combination of node list');
  				     }
                  //result = JSON.parse(response)
  			     },
             error: function(error) {
  				         alert('Some error occurred while creating node list');
              }
  			    });
        });
    });
  </script>

                        <!-- MAIN CONTENT-->
                              <div class="main-content">
                                  <div class="section__content section__content--p30">
                                      <div class="container-fluid">
                                        <div class="row">
                                          <div class="card-body">
                                              <div class="card-title">
                                                  <h3 class="text-center title-2">Add Node List</h3>
                                              </div>
                                              <hr>
                                              <form action="" method="post" novalidate="novalidate">
                                                  <div class="form-group">
                                                      <label for="cc-payment" class="control-label mb-1">Node List</label>
                                                      <input type="text" name="nodelist" class="form-control">
                                                  </div>
                                                  <div class="form-group">
                                                      <label for="cc-payment" class="control-label mb-1">Node Type</label>
                                                      <select name="nodetype" class="form-control">
                                                          <option value="windows">Windows</option>
                                                          <option value="linux">Linux</option>
                                                      </select>
                                                  </div>
                                                  <div class="form-group has-success">
                                                      <label for="cc-name" class="control-label mb-1">Node List Description</label>
                                                      <input type="text" name="nodedesc" class="form-control">
                                                      <span class="help-block field-validation-valid" data-valmsg-for="cc-name" data-valmsg-replace="true"></span>
                                                  </div>
                                                 <div>
                                                      <button  type="button" class="btn btn-lg btn-info btn-block">Submit
                                                      </button>
                                                  </div>
                                              </form>
                                          </div>
                                          </div>
                                        <div class="row copyright-footer">
                                              <div class="col-md-12">
                                                  <div class="copyright">
                                                      <p>Copyright Â© 2018 Colorlib. </p>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                              <!-- END MAIN CONTENT-->
{% endblock %}
